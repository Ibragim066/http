(()=>{"use strict";class t{constructor(t,e,i){this.container=t,this.formContainer=null,this.errorElement=null,this.form=null,this.createCallback=i,this.updateCallback=e,this.bindToDOM()}bindToDOM(){this.createFormContainer({name:"",description:""}),this.events()}createFormContainer(e){this.formContainer=document.createElement("div"),this.formContainer.classList.add("ticket-form-container"),this.formContainer.innerHTML=t.markup(e),this.container.append(this.formContainer)}events(){const e=this.formContainer.querySelector('[data-toggle="ticket-close"]');this.form=this.formContainer.querySelector("form");const i=this.form.querySelectorAll("input, textarea");e.addEventListener("click",(()=>this.hide())),this.form.addEventListener("submit",(t=>this.onSubmit(t))),i.forEach((e=>{e.addEventListener("input",(()=>t.removeErrorClass(e)))}))}async show(e){this.formContainer.classList.add("ticket-form-container_visible"),e&&(this.ticketId=e.id,this.formContainer.innerHTML=t.markup(e),this.events())}hide(){this.formContainer.classList.remove("ticket-form-container_visible"),this.form.reset()}async onSubmit(e){e.preventDefault();const i=Array.from(this.form.elements),s=t.getNotValidEl(i);if(s)return void s.classList.add("error");const a=Object.fromEntries(new FormData(e.target));this.ticketId?await this.updateCallback(this.ticketId,a):await this.createCallback(a)}static removeErrorClass(t){t.value.trim()&&t.classList.remove("error")}static markup(t){return`\n      <form id="ticket-form" novalidate>\n      <div class="form-control form-ticket">\n        <label class="label-ticket" for="name">Краткое описание</label>\n        <input name="name" data-id="name" class="input input-ticket" type="text" placeholder="ticket name" autocomplete="off" value="${t.name}" required> \n      </div>\n      <div class="form-control form-ticket">\n        <label for="description" class="label-ticket">Подробное описание</label>\n        <textarea name="description" data-id="description" class="input input-ticket" placeholder="ticket description" autocomplete="off"\n            cols="25" rows="5" maxlength="100" minlength="20" tabindex="0">${t.description}</textarea>\n      </div>\n      <div class="ticket-btn">\n        <button type="button" class="btn btn-add" data-toggle="ticket-close" title="Close ticket form">Отмена</button>\n        <button type="submit" class="btn btn-close" data-toggle="ticket-add" title="Submit ticket form">ОК</button>\n      </div>\n    </form>`}static getNotValidEl(t){return t.find((t=>"button"!==t.type&&"submit"!==t.type&&!t.value.trim()))}}const e=async function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{let a;const n="allTickets"===e||e.startsWith("delete")||e.startsWith("ticket");switch(e){case"createTicket":a=await fetch(`${t}?method=${e}`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",...s}});break;case"updateById":if(!i.id)return console.error("ID is required for updateById method"),null;a=await fetch(`${t}?method=${e}&id=${i.id}`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",...s}});break;case"allTickets":case"ticketById":case"deleteById":{if(n&&"allTickets"!==e&&!i.id)return console.error("ID is required for ticketById and deleteById methods"),null;const r=new URLSearchParams(n?i:{}).toString();a=await fetch(`${t}?method=${e}${r?`&${r}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",...s}});break}default:return console.error("Unsupported method:",e),null}return a.ok?"deleteById"===e?"success":await a.json():(console.error(`Server error: ${a.statusText}`),null)}catch(t){return console.error("Network error:",t),null}};class i{constructor(t){this.url=t}list(){return e(this.url,"allTickets")}get(t){return e(this.url,"ticketById",{id:t})}create(t){return e(this.url,"createTicket",t)}update(t,i){return e(this.url,"updateById",{...i,id:t})}delete(t){return e(this.url,"deleteById",{id:t})}}class s{constructor(t,e,i,s){let{id:a,name:n,description:r,status:o,created:c}=t;this.id=a,this.name=n,this.description=r,this.status=o,this.created=c,this.container=e,this.updateCallback=i,this.showFormCallback=s,this.bind()}bind(){this.container.innerHTML=this.markup,this.events()}events(){const t=this.container.querySelector(".update"),e=this.container.querySelector(".delete"),i=this.container.querySelector(".done"),s=this.container.querySelector(".ticket-body");t.addEventListener("click",(()=>this.update())),e.addEventListener("click",(()=>this.delete())),s.addEventListener("click",(()=>this.showDescription())),i.addEventListener("click",(()=>this.done()))}update(){this.showFormCallback(this.id)}delete(){const t=document.querySelector(".delete-message");t.classList.add("delete-message_visible"),t.setAttribute("data-id",this.id)}showDescription(){this.container.querySelector(".ticket-description").classList.toggle("ticket-description_visible")}done(){this.updateCallback(this.id,{status:!this.status})}get markup(){const t=new Date(this.created).toLocaleString("ru-RU");return`\n    <span class="done" data-status="${this.status}">${this.status?"&#10003;":""}</span>\n    <th class='ticket-body'> \n      <div>\n      <span colspan="2" class="ticket-name" data-name="${this.name}">${this.name}</span>\n      <span colspan="2" class="ticket-description" >${this.description}</span>\n      </div>\n      <span colspan="2" class="ticket-created">${t}</span>\n    </th>\n    <th class="ticket-actions"><span class="update">✎</span><span class="delete">✖</span></th>\n    `}}class a{constructor(t,e,i){this.container=t,this.updateCallback=e,this.showFormCallback=i,this.tickets=[]}bindToDOM(t){t.forEach((t=>{const e=document.createElement("tr"),i=new s(t,e,this.updateCallback,this.showFormCallback);this.tickets.push(i),e.setAttribute("data-row",t.id),e.classList.add("ticket-row"),this.container.append(e)}))}}class n{constructor(t,e){if(!(t instanceof HTMLElement))throw new Error("This is not HTML element!");this.container=t,this.ticketService=new i(e),this.form=null,this.ticketView=null,this.tableBody=null,this.deleteMessage=null,this.updateTicket=this.updateTicket.bind(this),this.showForm=this.showForm.bind(this),this.createTicket=this.createTicket.bind(this)}async init(){this.renderInitialMarkup(),this.initializeDOMElements(),this.initializeTicketView(),this.initializeTicketForm(),this.events(),await this.reloadData()}renderInitialMarkup(){this.container.innerHTML=n.markup()}initializeDOMElements(){this.tableBody=this.container.querySelector("tbody"),this.deleteMessage=this.container.querySelector(".delete-message")}initializeTicketView(){this.ticketView=new a(this.tableBody,this.updateTicket,this.showForm)}initializeTicketForm(){this.form=new t(this.container,this.updateTicket,this.createTicket)}events(){const t=this.container.querySelector('[data-id="add"]'),e=this.container.querySelector('[data-toggle="delete-ticket"]'),i=this.container.querySelector('[data-toggle="close-message"]');t.addEventListener("click",(()=>this.showForm())),e.addEventListener("click",(()=>this.deleteTicket())),i.addEventListener("click",(()=>this.closeMessage()))}async reloadData(){for(;this.tableBody.firstChild;)this.tableBody.removeChild(this.tableBody.firstChild);const t=await this.ticketService.list();t&&this.ticketView.bindToDOM(t)}async deleteTicket(){null!==await this.ticketService.delete(this.deleteMessage.dataset.id)&&(await this.reloadData(),this.closeMessage())}async createTicket(t){null!==await this.ticketService.create(t)&&(await this.reloadData(),this.form.hide())}async updateTicket(t,e){null!==await this.ticketService.update(t,e)&&(await this.reloadData(),this.form.hide())}async getTicket(t){return await this.ticketService.get(t)}closeMessage(){this.deleteMessage.classList.remove("delete-message_visible")}async showForm(t){if(t){const e=await this.getTicket(t);this.form.show(e)}else this.form.show()}static markup(){return'\n      <table class="table">\n        <thead>\n          <tr class="tickets">\n            <th colspan="6" style="text-align:right" data-id="add"><span class="add">Добавить тикет</span></th>\n          </tr>\n        </thead>\n        <tbody></tbody>\n      </table>\n      <div class="delete-message">\n        <h2>Удалить тикет</h2>\n        <div>Вы уверены, что хотите удалить тикет? Это действие необратимо</div>\n        <div class="ticket-btn">\n          <button type="button" class="btn btn-close" data-toggle="close-message" title="Close delete message">Отмена</button>\n          <button type="button" class="btn btn-add" data-toggle="delete-ticket" title="Button for delete ticket">Ok</button>\n        </div>\n      </div>\n    '}}const r=document.getElementById("root");new n(r,"http://localhost:3000/").init()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUgsR0FDSixLQUFPdEgsS0FBSzZHLFVBQVVhLFlBQ3BCMUgsS0FBSzZHLFVBQVVjLFlBQVkzSCxLQUFLNkcsVUFBVWEsWUFFNUMsTUFBTTdGLFFBQWE3QixLQUFLMkcsY0FBY2pDLE9BQ2xDN0MsR0FDRjdCLEtBQUs0RyxXQUFXeEcsVUFBVXlCLEVBRTlCLENBRUEsa0JBQU0yRixHQUlXLGFBSE14SCxLQUFLMkcsY0FBYzVCLE9BQ3RDL0UsS0FBSzRGLGNBQWNnQyxRQUFRN0YsWUFHckIvQixLQUFLc0gsYUFDWHRILEtBQUt5SCxlQUVULENBRUEsa0JBQU1ULENBQWFuRixHQUVGLGFBRE03QixLQUFLMkcsY0FBYzlCLE9BQU9oRCxXQUV2QzdCLEtBQUtzSCxhQUNYdEgsS0FBS0csS0FBS21CLE9BRWQsQ0FFQSxrQkFBTXdGLENBQWEvRSxFQUFJOEYsR0FFTixhQURNN0gsS0FBSzJHLGNBQWM3QixPQUFPL0MsRUFBSThGLFdBRTNDN0gsS0FBS3NILGFBQ1h0SCxLQUFLRyxLQUFLbUIsT0FFZCxDQUVBLGVBQU13RyxDQUFVL0YsR0FFZCxhQURxQi9CLEtBQUsyRyxjQUFjL0IsSUFBSTdDLEVBRTlDLENBRUEwRixZQUFBQSxHQUNFekgsS0FBSzRGLGNBQWNoRixVQUFVb0IsT0FBTyx5QkFDdEMsQ0FFQSxjQUFNK0UsQ0FBU2hGLEdBQ2IsR0FBSUEsRUFBSSxDQUNOLE1BQU1nRyxRQUFlL0gsS0FBSzhILFVBQVUvRixHQUNwQy9CLEtBQUtHLEtBQUt5QixLQUFLbUcsRUFDakIsTUFDRS9ILEtBQUtHLEtBQUt5QixNQUVkLENBRUEsYUFBT2IsR0FDTCxNQUFRLHV1QkFrQlYsRUNuSUYsTUFBTWlILEVBQU90SCxTQUFTdUgsZUFBZSxRQUd6QixJQUFJekIsRUFBU3dCLEVBRmIsMEJBSVJmLE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9odHRwX2Foai8uL3NyYy9qcy9UaWNrZXRGb3JtLmpzIiwid2VicGFjazovL2h0dHBfYWhqLy4vc3JjL2pzL2FwaS9jcmVhdGVSZXF1ZXN0LmpzIiwid2VicGFjazovL2h0dHBfYWhqLy4vc3JjL2pzL1RpY2tldFNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vaHR0cF9haGovLi9zcmMvanMvVGlja2V0LmpzIiwid2VicGFjazovL2h0dHBfYWhqLy4vc3JjL2pzL1RpY2tldFZpZXcuanMiLCJ3ZWJwYWNrOi8vaHR0cF9haGovLi9zcmMvanMvSGVscERlc2suanMiLCJ3ZWJwYWNrOi8vaHR0cF9haGovLi9zcmMvanMvYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogINCa0LvQsNGB0YEg0LTQu9GPINGB0L7Qt9C00LDQvdC40Y8g0YTQvtGA0LzRiyDRgdC+0LfQtNCw0L3QuNGPINC90L7QstC+0LPQviDRgtC40LrQtdGC0LBcbiAqICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaWNrZXRGb3JtIHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyLCB1cGRhdGVDYWxsYmFjaywgY3JlYXRlQ2FsbGJhY2spIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLmZvcm1Db250YWluZXIgPSBudWxsO1xuICAgIHRoaXMuZXJyb3JFbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLmZvcm0gPSBudWxsO1xuICAgIHRoaXMuY3JlYXRlQ2FsbGJhY2sgPSBjcmVhdGVDYWxsYmFjaztcbiAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrID0gdXBkYXRlQ2FsbGJhY2s7XG5cbiAgICB0aGlzLmJpbmRUb0RPTSgpO1xuICB9XG5cbiAgYmluZFRvRE9NKCkge1xuICAgIHRoaXMuY3JlYXRlRm9ybUNvbnRhaW5lcih7IG5hbWU6ICcnLCBkZXNjcmlwdGlvbjogJycgfSk7XG4gICAgdGhpcy5ldmVudHMoKTtcbiAgfVxuXG4gIGNyZWF0ZUZvcm1Db250YWluZXIoZm9ybURhdGEpIHtcbiAgICB0aGlzLmZvcm1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgndGlja2V0LWZvcm0tY29udGFpbmVyJyk7XG4gICAgdGhpcy5mb3JtQ29udGFpbmVyLmlubmVySFRNTCA9IFRpY2tldEZvcm0ubWFya3VwKGZvcm1EYXRhKTtcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQodGhpcy5mb3JtQ29udGFpbmVyKTtcbiAgfVxuXG4gIGV2ZW50cygpIHtcbiAgICBjb25zdCBjbG9zZUJ0biA9IHRoaXMuZm9ybUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbZGF0YS10b2dnbGU9XCJ0aWNrZXQtY2xvc2VcIl0nKTtcbiAgICB0aGlzLmZvcm0gPSB0aGlzLmZvcm1Db250YWluZXIucXVlcnlTZWxlY3RvcignZm9ybScpO1xuICAgIGNvbnN0IGlucHV0RWxlbWVudHMgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQsIHRleHRhcmVhJyk7XG5cbiAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuaGlkZSgpKTtcbiAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHRoaXMub25TdWJtaXQoZSkpO1xuXG4gICAgaW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiBUaWNrZXRGb3JtLnJlbW92ZUVycm9yQ2xhc3MoaW5wdXQpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHNob3coZGF0YSkge1xuICAgIHRoaXMuZm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd0aWNrZXQtZm9ybS1jb250YWluZXJfdmlzaWJsZScpO1xuXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHRoaXMudGlja2V0SWQgPSBkYXRhLmlkO1xuICAgICAgdGhpcy5mb3JtQ29udGFpbmVyLmlubmVySFRNTCA9IFRpY2tldEZvcm0ubWFya3VwKGRhdGEpO1xuICAgICAgdGhpcy5ldmVudHMoKTtcbiAgICB9XG4gIH1cblxuICBoaWRlKCkge1xuICAgIHRoaXMuZm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCd0aWNrZXQtZm9ybS1jb250YWluZXJfdmlzaWJsZScpO1xuICAgIHRoaXMuZm9ybS5yZXNldCgpO1xuICB9XG5cbiAgYXN5bmMgb25TdWJtaXQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBlbGVtZW50c0FycmF5ID0gQXJyYXkuZnJvbSh0aGlzLmZvcm0uZWxlbWVudHMpO1xuICAgIGNvbnN0IGludmFsaWRFbGVtZW50ID0gVGlja2V0Rm9ybS5nZXROb3RWYWxpZEVsKGVsZW1lbnRzQXJyYXkpO1xuXG4gICAgaWYgKGludmFsaWRFbGVtZW50KSB7XG4gICAgICBpbnZhbGlkRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSBPYmplY3QuZnJvbUVudHJpZXMobmV3IEZvcm1EYXRhKGUudGFyZ2V0KSk7XG5cbiAgICBpZiAodGhpcy50aWNrZXRJZCkge1xuICAgICAgYXdhaXQgdGhpcy51cGRhdGVDYWxsYmFjayh0aGlzLnRpY2tldElkLCBkYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5jcmVhdGVDYWxsYmFjayhkYXRhKTtcbiAgfVxuXG4gIHN0YXRpYyByZW1vdmVFcnJvckNsYXNzKGlucHV0KSB7XG4gICAgaWYgKGlucHV0LnZhbHVlLnRyaW0oKSkge1xuICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgbWFya3VwKGZvcm1EYXRhKSB7XG4gICAgcmV0dXJuIGBcbiAgICAgIDxmb3JtIGlkPVwidGlja2V0LWZvcm1cIiBub3ZhbGlkYXRlPlxuICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY29udHJvbCBmb3JtLXRpY2tldFwiPlxuICAgICAgICA8bGFiZWwgY2xhc3M9XCJsYWJlbC10aWNrZXRcIiBmb3I9XCJuYW1lXCI+0JrRgNCw0YLQutC+0LUg0L7Qv9C40YHQsNC90LjQtTwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCBuYW1lPVwibmFtZVwiIGRhdGEtaWQ9XCJuYW1lXCIgY2xhc3M9XCJpbnB1dCBpbnB1dC10aWNrZXRcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwidGlja2V0IG5hbWVcIiBhdXRvY29tcGxldGU9XCJvZmZcIiB2YWx1ZT1cIiR7Zm9ybURhdGEubmFtZX1cIiByZXF1aXJlZD4gXG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNvbnRyb2wgZm9ybS10aWNrZXRcIj5cbiAgICAgICAgPGxhYmVsIGZvcj1cImRlc2NyaXB0aW9uXCIgY2xhc3M9XCJsYWJlbC10aWNrZXRcIj7Qn9C+0LTRgNC+0LHQvdC+0LUg0L7Qv9C40YHQsNC90LjQtTwvbGFiZWw+XG4gICAgICAgIDx0ZXh0YXJlYSBuYW1lPVwiZGVzY3JpcHRpb25cIiBkYXRhLWlkPVwiZGVzY3JpcHRpb25cIiBjbGFzcz1cImlucHV0IGlucHV0LXRpY2tldFwiIHBsYWNlaG9sZGVyPVwidGlja2V0IGRlc2NyaXB0aW9uXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCJcbiAgICAgICAgICAgIGNvbHM9XCIyNVwiIHJvd3M9XCI1XCIgbWF4bGVuZ3RoPVwiMTAwXCIgbWlubGVuZ3RoPVwiMjBcIiB0YWJpbmRleD1cIjBcIj4ke2Zvcm1EYXRhLmRlc2NyaXB0aW9ufTwvdGV4dGFyZWE+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0aWNrZXQtYnRuXCI+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1hZGRcIiBkYXRhLXRvZ2dsZT1cInRpY2tldC1jbG9zZVwiIHRpdGxlPVwiQ2xvc2UgdGlja2V0IGZvcm1cIj7QntGC0LzQtdC90LA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLWNsb3NlXCIgZGF0YS10b2dnbGU9XCJ0aWNrZXQtYWRkXCIgdGl0bGU9XCJTdWJtaXQgdGlja2V0IGZvcm1cIj7QntCaPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+YDtcbiAgfVxuXG4gIHN0YXRpYyBnZXROb3RWYWxpZEVsKGFycmF5KSB7XG4gICAgcmV0dXJuIGFycmF5LmZpbmQoKGVsKSA9PiB7XG4gICAgICBpZiAoZWwudHlwZSAhPT0gJ2J1dHRvbicgJiYgZWwudHlwZSAhPT0gJ3N1Ym1pdCcpIHtcbiAgICAgICAgaWYgKCFlbC52YWx1ZS50cmltKCkpIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICB9XG59XG4iLCJjb25zdCBjcmVhdGVSZXF1ZXN0ID0gYXN5bmMgKHVybCwgbWV0aG9kLCBkYXRhID0ge30sIGhlYWRlcnMgPSB7fSkgPT4ge1xuICB0cnkge1xuICAgIGxldCByZXNwb25zZTtcbiAgICBjb25zdCBpc0dldE1ldGhvZCA9IG1ldGhvZCA9PT0gJ2FsbFRpY2tldHMnXG4gICAgICB8fCBtZXRob2Quc3RhcnRzV2l0aCgnZGVsZXRlJylcbiAgICAgIHx8IG1ldGhvZC5zdGFydHNXaXRoKCd0aWNrZXQnKTtcblxuICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICBjYXNlICdjcmVhdGVUaWNrZXQnOlxuICAgICAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3VybH0/bWV0aG9kPSR7bWV0aG9kfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgLi4uaGVhZGVycyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3VwZGF0ZUJ5SWQnOlxuICAgICAgICBpZiAoIWRhdGEuaWQpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdJRCBpcyByZXF1aXJlZCBmb3IgdXBkYXRlQnlJZCBtZXRob2QnKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3VybH0/bWV0aG9kPSR7bWV0aG9kfSZpZD0ke2RhdGEuaWR9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAuLi5oZWFkZXJzLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnYWxsVGlja2V0cyc6XG4gICAgICBjYXNlICd0aWNrZXRCeUlkJzpcbiAgICAgIGNhc2UgJ2RlbGV0ZUJ5SWQnOiB7XG4gICAgICAgIGlmIChpc0dldE1ldGhvZCAmJiBtZXRob2QgIT09ICdhbGxUaWNrZXRzJyAmJiAhZGF0YS5pZCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0lEIGlzIHJlcXVpcmVkIGZvciB0aWNrZXRCeUlkIGFuZCBkZWxldGVCeUlkIG1ldGhvZHMnKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhcbiAgICAgICAgICBpc0dldE1ldGhvZCA/IGRhdGEgOiB7fSxcbiAgICAgICAgKS50b1N0cmluZygpO1xuICAgICAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke3VybH0/bWV0aG9kPSR7bWV0aG9kfSR7cXVlcnlTdHJpbmcgPyBgJiR7cXVlcnlTdHJpbmd9YCA6ICcnfWAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgLi4uaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Vuc3VwcG9ydGVkIG1ldGhvZDonLCBtZXRob2QpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgIHJldHVybiBtZXRob2QgPT09ICdkZWxldGVCeUlkJyA/ICdzdWNjZXNzJyA6IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmVycm9yKGBTZXJ2ZXIgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdOZXR3b3JrIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlUmVxdWVzdDtcbiIsImltcG9ydCBjcmVhdGVSZXF1ZXN0IGZyb20gJy4vYXBpL2NyZWF0ZVJlcXVlc3QnO1xuXG4vKipcbiAqICDQmtC70LDRgdGBINC00LvRjyDRgdCy0Y/Qt9C4INGBINGB0LXRgNCy0LXRgNC+0LwuXG4gKiAg0KHQvtC00LXRgNC20LjRgiDQvNC10YLQvtC00Ysg0LTQu9GPINC+0YLQv9GA0LDQstC60Lgg0LfQsNC/0YDQvtGB0L7QsiDQvdCwINGB0LXRgNCy0LXRgCDQuCDQv9C+0LvRg9GH0LXQvdC40Y8g0L7RgtCy0LXRgtC+0LJcbiAqICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaWNrZXRTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IodXJsKSB7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gIH1cblxuICBsaXN0KCkge1xuICAgIHJldHVybiBjcmVhdGVSZXF1ZXN0KHRoaXMudXJsLCAnYWxsVGlja2V0cycpO1xuICB9XG5cbiAgZ2V0KGlkKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJlcXVlc3QodGhpcy51cmwsICd0aWNrZXRCeUlkJywgeyBpZCB9KTtcbiAgfVxuXG4gIGNyZWF0ZShkYXRhKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJlcXVlc3QodGhpcy51cmwsICdjcmVhdGVUaWNrZXQnLCBkYXRhKTtcbiAgfVxuXG4gIHVwZGF0ZShpZCwgZGF0YSkge1xuICAgIHJldHVybiBjcmVhdGVSZXF1ZXN0KHRoaXMudXJsLCAndXBkYXRlQnlJZCcsIHsgLi4uZGF0YSwgaWQgfSk7XG4gIH1cblxuICBkZWxldGUoaWQpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVxdWVzdCh0aGlzLnVybCwgJ2RlbGV0ZUJ5SWQnLCB7IGlkIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUaWNrZXQge1xuICBjb25zdHJ1Y3RvcihcbiAgICB7XG4gICAgICBpZCwgbmFtZSwgZGVzY3JpcHRpb24sIHN0YXR1cywgY3JlYXRlZCxcbiAgICB9LFxuICAgIGNvbnRhaW5lcixcbiAgICB1cGRhdGVDYWxsYmFjayxcbiAgICBzaG93Rm9ybUNhbGxiYWNrLFxuICApIHtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgdGhpcy5jcmVhdGVkID0gY3JlYXRlZDtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcblxuICAgIHRoaXMudXBkYXRlQ2FsbGJhY2sgPSB1cGRhdGVDYWxsYmFjaztcbiAgICB0aGlzLnNob3dGb3JtQ2FsbGJhY2sgPSBzaG93Rm9ybUNhbGxiYWNrO1xuXG4gICAgdGhpcy5iaW5kKCk7XG4gIH1cblxuICBiaW5kKCkge1xuICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9IHRoaXMubWFya3VwO1xuICAgIHRoaXMuZXZlbnRzKCk7XG4gIH1cblxuICBldmVudHMoKSB7XG4gICAgY29uc3QgdXBkYXRlQnRuID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnVwZGF0ZScpO1xuICAgIGNvbnN0IGRlbGV0ZUJ0biA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5kZWxldGUnKTtcbiAgICBjb25zdCBpc0RvbmVFbCA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5kb25lJyk7XG4gICAgY29uc3QgdGlja2V0Qm9keSA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy50aWNrZXQtYm9keScpO1xuXG4gICAgdXBkYXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy51cGRhdGUoKSk7XG4gICAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5kZWxldGUoKSk7XG4gICAgdGlja2V0Qm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuc2hvd0Rlc2NyaXB0aW9uKCkpO1xuICAgIGlzRG9uZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5kb25lKCkpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIHRoaXMuc2hvd0Zvcm1DYWxsYmFjayh0aGlzLmlkKTtcbiAgfVxuXG4gIGRlbGV0ZSgpIHtcbiAgICBjb25zdCBkZWxldGVNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRlbGV0ZS1tZXNzYWdlJyk7XG4gICAgZGVsZXRlTWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdkZWxldGUtbWVzc2FnZV92aXNpYmxlJyk7XG4gICAgZGVsZXRlTWVzc2FnZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCB0aGlzLmlkKTtcbiAgfVxuXG4gIHNob3dEZXNjcmlwdGlvbigpIHtcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy50aWNrZXQtZGVzY3JpcHRpb24nKTtcbiAgICBkZXNjcmlwdGlvbi5jbGFzc0xpc3QudG9nZ2xlKCd0aWNrZXQtZGVzY3JpcHRpb25fdmlzaWJsZScpO1xuICB9XG5cbiAgZG9uZSgpIHtcbiAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrKHRoaXMuaWQsIHsgc3RhdHVzOiAhdGhpcy5zdGF0dXMgfSk7XG4gIH1cblxuICBnZXQgbWFya3VwKCkge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aGlzLmNyZWF0ZWQpO1xuICAgIGNvbnN0IGZvcm1hdHRlZERhdGUgPSBkYXRlLnRvTG9jYWxlU3RyaW5nKCdydS1SVScpO1xuXG4gICAgcmV0dXJuIGBcbiAgICA8c3BhbiBjbGFzcz1cImRvbmVcIiBkYXRhLXN0YXR1cz1cIiR7dGhpcy5zdGF0dXN9XCI+JHt0aGlzLnN0YXR1cyA/ICcmIzEwMDAzOycgOiAnJ308L3NwYW4+XG4gICAgPHRoIGNsYXNzPSd0aWNrZXQtYm9keSc+IFxuICAgICAgPGRpdj5cbiAgICAgIDxzcGFuIGNvbHNwYW49XCIyXCIgY2xhc3M9XCJ0aWNrZXQtbmFtZVwiIGRhdGEtbmFtZT1cIiR7dGhpcy5uYW1lfVwiPiR7dGhpcy5uYW1lfTwvc3Bhbj5cbiAgICAgIDxzcGFuIGNvbHNwYW49XCIyXCIgY2xhc3M9XCJ0aWNrZXQtZGVzY3JpcHRpb25cIiA+JHt0aGlzLmRlc2NyaXB0aW9ufTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPHNwYW4gY29sc3Bhbj1cIjJcIiBjbGFzcz1cInRpY2tldC1jcmVhdGVkXCI+JHtmb3JtYXR0ZWREYXRlfTwvc3Bhbj5cbiAgICA8L3RoPlxuICAgIDx0aCBjbGFzcz1cInRpY2tldC1hY3Rpb25zXCI+PHNwYW4gY2xhc3M9XCJ1cGRhdGVcIj7inI48L3NwYW4+PHNwYW4gY2xhc3M9XCJkZWxldGVcIj7inJY8L3NwYW4+PC90aD5cbiAgICBgO1xuICB9XG59XG4iLCJpbXBvcnQgVGlja2V0IGZyb20gJy4vVGlja2V0JztcblxuLyoqXG4gKiAg0JrQu9Cw0YHRgSDQtNC70Y8g0L7RgtC+0LHRgNCw0LbQtdC90LjRjyDRgtC40LrQtdGC0L7QsiDQvdCwINGB0YLRgNCw0L3QuNGG0LUuXG4gKiAg0J7QvSDRgdC+0LTQtdGA0LbQuNGCINC80LXRgtC+0LTRiyDQtNC70Y8g0LPQtdC90LXRgNCw0YbQuNC4INGA0LDQt9C80LXRgtC60Lgg0YLQuNC60LXRgtCwLlxuICogKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpY2tldFZpZXcge1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIHVwZGF0ZUNhbGxiYWNrLCBzaG93Rm9ybUNhbGxiYWNrKSB7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy51cGRhdGVDYWxsYmFjayA9IHVwZGF0ZUNhbGxiYWNrO1xuICAgIHRoaXMuc2hvd0Zvcm1DYWxsYmFjayA9IHNob3dGb3JtQ2FsbGJhY2s7XG4gICAgdGhpcy50aWNrZXRzID0gW107XG4gIH1cblxuICBiaW5kVG9ET00oZGF0YSkge1xuICAgIGRhdGEuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgdGFibGVSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgY29uc3QgdGlja2V0ID0gbmV3IFRpY2tldChcbiAgICAgICAgaXRlbSxcbiAgICAgICAgdGFibGVSb3csXG4gICAgICAgIHRoaXMudXBkYXRlQ2FsbGJhY2ssXG4gICAgICAgIHRoaXMuc2hvd0Zvcm1DYWxsYmFjayxcbiAgICAgICk7XG5cbiAgICAgIHRoaXMudGlja2V0cy5wdXNoKHRpY2tldCk7XG4gICAgICB0YWJsZVJvdy5zZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JywgaXRlbS5pZCk7XG4gICAgICB0YWJsZVJvdy5jbGFzc0xpc3QuYWRkKCd0aWNrZXQtcm93Jyk7XG4gICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQodGFibGVSb3cpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgVGlja2V0Rm9ybSBmcm9tICcuL1RpY2tldEZvcm0nO1xuaW1wb3J0IFRpY2tldFNlcnZpY2UgZnJvbSAnLi9UaWNrZXRTZXJ2aWNlJztcbmltcG9ydCBUaWNrZXRWaWV3IGZyb20gJy4vVGlja2V0Vmlldyc7XG5cbi8qKlxuICogINCe0YHQvdC+0LLQvdC+0Lkg0LrQu9Cw0YHRgSDQv9GA0LjQu9C+0LbQtdC90LjRj1xuICogKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlbHBEZXNrIHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyLCB1cmwpIHtcbiAgICBpZiAoIShjb250YWluZXIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBpcyBub3QgSFRNTCBlbGVtZW50IScpO1xuICAgIH1cbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLnRpY2tldFNlcnZpY2UgPSBuZXcgVGlja2V0U2VydmljZSh1cmwpO1xuICAgIHRoaXMuZm9ybSA9IG51bGw7XG4gICAgdGhpcy50aWNrZXRWaWV3ID0gbnVsbDtcbiAgICB0aGlzLnRhYmxlQm9keSA9IG51bGw7XG4gICAgdGhpcy5kZWxldGVNZXNzYWdlID0gbnVsbDtcblxuICAgIHRoaXMudXBkYXRlVGlja2V0ID0gdGhpcy51cGRhdGVUaWNrZXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNob3dGb3JtID0gdGhpcy5zaG93Rm9ybS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY3JlYXRlVGlja2V0ID0gdGhpcy5jcmVhdGVUaWNrZXQuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGFzeW5jIGluaXQoKSB7XG4gICAgdGhpcy5yZW5kZXJJbml0aWFsTWFya3VwKCk7XG4gICAgdGhpcy5pbml0aWFsaXplRE9NRWxlbWVudHMoKTtcbiAgICB0aGlzLmluaXRpYWxpemVUaWNrZXRWaWV3KCk7XG4gICAgdGhpcy5pbml0aWFsaXplVGlja2V0Rm9ybSgpO1xuICAgIHRoaXMuZXZlbnRzKCk7XG4gICAgYXdhaXQgdGhpcy5yZWxvYWREYXRhKCk7XG4gIH1cblxuICByZW5kZXJJbml0aWFsTWFya3VwKCkge1xuICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9IEhlbHBEZXNrLm1hcmt1cCgpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZURPTUVsZW1lbnRzKCkge1xuICAgIHRoaXMudGFibGVCb2R5ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcigndGJvZHknKTtcbiAgICB0aGlzLmRlbGV0ZU1lc3NhZ2UgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZGVsZXRlLW1lc3NhZ2UnKTtcbiAgfVxuXG4gIGluaXRpYWxpemVUaWNrZXRWaWV3KCkge1xuICAgIHRoaXMudGlja2V0VmlldyA9IG5ldyBUaWNrZXRWaWV3KHRoaXMudGFibGVCb2R5LCB0aGlzLnVwZGF0ZVRpY2tldCwgdGhpcy5zaG93Rm9ybSk7XG4gIH1cblxuICBpbml0aWFsaXplVGlja2V0Rm9ybSgpIHtcbiAgICB0aGlzLmZvcm0gPSBuZXcgVGlja2V0Rm9ybSh0aGlzLmNvbnRhaW5lciwgdGhpcy51cGRhdGVUaWNrZXQsIHRoaXMuY3JlYXRlVGlja2V0KTtcbiAgfVxuXG4gIGV2ZW50cygpIHtcbiAgICBjb25zdCBhZGRFbCA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWlkPVwiYWRkXCJdJyk7XG4gICAgY29uc3QgZGVsZXRlVGlja2V0ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignW2RhdGEtdG9nZ2xlPVwiZGVsZXRlLXRpY2tldFwiXScpO1xuICAgIGNvbnN0IGNsb3NlTWVzc2FnZSA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRvZ2dsZT1cImNsb3NlLW1lc3NhZ2VcIl0nKTtcblxuICAgIGFkZEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zaG93Rm9ybSgpKTtcbiAgICBkZWxldGVUaWNrZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmRlbGV0ZVRpY2tldCgpKTtcbiAgICBjbG9zZU1lc3NhZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmNsb3NlTWVzc2FnZSgpKTtcbiAgfVxuXG4gIGFzeW5jIHJlbG9hZERhdGEoKSB7XG4gICAgd2hpbGUgKHRoaXMudGFibGVCb2R5LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHRoaXMudGFibGVCb2R5LnJlbW92ZUNoaWxkKHRoaXMudGFibGVCb2R5LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy50aWNrZXRTZXJ2aWNlLmxpc3QoKTtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgdGhpcy50aWNrZXRWaWV3LmJpbmRUb0RPTShkYXRhKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBkZWxldGVUaWNrZXQoKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy50aWNrZXRTZXJ2aWNlLmRlbGV0ZShcbiAgICAgIHRoaXMuZGVsZXRlTWVzc2FnZS5kYXRhc2V0LmlkLFxuICAgICk7XG4gICAgaWYgKHJlc3VsdCAhPT0gbnVsbCkge1xuICAgICAgYXdhaXQgdGhpcy5yZWxvYWREYXRhKCk7XG4gICAgICB0aGlzLmNsb3NlTWVzc2FnZSgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVRpY2tldChkYXRhKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy50aWNrZXRTZXJ2aWNlLmNyZWF0ZShkYXRhKTtcbiAgICBpZiAocmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICBhd2FpdCB0aGlzLnJlbG9hZERhdGEoKTtcbiAgICAgIHRoaXMuZm9ybS5oaWRlKCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlVGlja2V0KGlkLCBuZXdEYXRhKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy50aWNrZXRTZXJ2aWNlLnVwZGF0ZShpZCwgbmV3RGF0YSk7XG4gICAgaWYgKHJlc3VsdCAhPT0gbnVsbCkge1xuICAgICAgYXdhaXQgdGhpcy5yZWxvYWREYXRhKCk7XG4gICAgICB0aGlzLmZvcm0uaGlkZSgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFRpY2tldChpZCkge1xuICAgIGNvbnN0IHRpY2tldCA9IGF3YWl0IHRoaXMudGlja2V0U2VydmljZS5nZXQoaWQpO1xuICAgIHJldHVybiB0aWNrZXQ7XG4gIH1cblxuICBjbG9zZU1lc3NhZ2UoKSB7XG4gICAgdGhpcy5kZWxldGVNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2RlbGV0ZS1tZXNzYWdlX3Zpc2libGUnKTtcbiAgfVxuXG4gIGFzeW5jIHNob3dGb3JtKGlkKSB7XG4gICAgaWYgKGlkKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmdldFRpY2tldChpZCk7XG4gICAgICB0aGlzLmZvcm0uc2hvdyhyZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZvcm0uc2hvdygpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBtYXJrdXAoKSB7XG4gICAgcmV0dXJuIGBcbiAgICAgIDx0YWJsZSBjbGFzcz1cInRhYmxlXCI+XG4gICAgICAgIDx0aGVhZD5cbiAgICAgICAgICA8dHIgY2xhc3M9XCJ0aWNrZXRzXCI+XG4gICAgICAgICAgICA8dGggY29sc3Bhbj1cIjZcIiBzdHlsZT1cInRleHQtYWxpZ246cmlnaHRcIiBkYXRhLWlkPVwiYWRkXCI+PHNwYW4gY2xhc3M9XCJhZGRcIj7QlNC+0LHQsNCy0LjRgtGMINGC0LjQutC10YI8L3NwYW4+PC90aD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RoZWFkPlxuICAgICAgICA8dGJvZHk+PC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgICA8ZGl2IGNsYXNzPVwiZGVsZXRlLW1lc3NhZ2VcIj5cbiAgICAgICAgPGgyPtCj0LTQsNC70LjRgtGMINGC0LjQutC10YI8L2gyPlxuICAgICAgICA8ZGl2PtCS0Ysg0YPQstC10YDQtdC90YssINGH0YLQviDRhdC+0YLQuNGC0LUg0YPQtNCw0LvQuNGC0Ywg0YLQuNC60LXRgj8g0K3RgtC+INC00LXQudGB0YLQstC40LUg0L3QtdC+0LHRgNCw0YLQuNC80L48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRpY2tldC1idG5cIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tY2xvc2VcIiBkYXRhLXRvZ2dsZT1cImNsb3NlLW1lc3NhZ2VcIiB0aXRsZT1cIkNsb3NlIGRlbGV0ZSBtZXNzYWdlXCI+0J7RgtC80LXQvdCwPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWFkZFwiIGRhdGEtdG9nZ2xlPVwiZGVsZXRlLXRpY2tldFwiIHRpdGxlPVwiQnV0dG9uIGZvciBkZWxldGUgdGlja2V0XCI+T2s8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG59XG4iLCJpbXBvcnQgSGVscERlc2sgZnJvbSAnLi9IZWxwRGVzayc7XG5cbmNvbnN0IHJvb3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpO1xuY29uc3QgdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC8nO1xuXG5jb25zdCBhcHAgPSBuZXcgSGVscERlc2socm9vdCwgdXJsKTtcblxuYXBwLmluaXQoKTtcbiJdLCJuYW1lcyI6WyJUaWNrZXRGb3JtIiwiY29uc3RydWN0b3IiLCJjb250YWluZXIiLCJ1cGRhdGVDYWxsYmFjayIsImNyZWF0ZUNhbGxiYWNrIiwidGhpcyIsImZvcm1Db250YWluZXIiLCJlcnJvckVsZW1lbnQiLCJmb3JtIiwiYmluZFRvRE9NIiwiY3JlYXRlRm9ybUNvbnRhaW5lciIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImV2ZW50cyIsImZvcm1EYXRhIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJIVE1MIiwibWFya3VwIiwiYXBwZW5kIiwiY2xvc2VCdG4iLCJxdWVyeVNlbGVjdG9yIiwiaW5wdXRFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRFdmVudExpc3RlbmVyIiwiaGlkZSIsImUiLCJvblN1Ym1pdCIsImZvckVhY2giLCJpbnB1dCIsInJlbW92ZUVycm9yQ2xhc3MiLCJzaG93IiwiZGF0YSIsInRpY2tldElkIiwiaWQiLCJyZW1vdmUiLCJyZXNldCIsInByZXZlbnREZWZhdWx0IiwiZWxlbWVudHNBcnJheSIsIkFycmF5IiwiZnJvbSIsImVsZW1lbnRzIiwiaW52YWxpZEVsZW1lbnQiLCJnZXROb3RWYWxpZEVsIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJGb3JtRGF0YSIsInRhcmdldCIsInZhbHVlIiwidHJpbSIsImFycmF5IiwiZmluZCIsImVsIiwidHlwZSIsImFzeW5jIiwidXJsIiwibWV0aG9kIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiaGVhZGVycyIsInJlc3BvbnNlIiwiaXNHZXRNZXRob2QiLCJzdGFydHNXaXRoIiwiZmV0Y2giLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnNvbGUiLCJlcnJvciIsInF1ZXJ5U3RyaW5nIiwiVVJMU2VhcmNoUGFyYW1zIiwidG9TdHJpbmciLCJvayIsImpzb24iLCJzdGF0dXNUZXh0IiwiVGlja2V0U2VydmljZSIsImxpc3QiLCJjcmVhdGVSZXF1ZXN0IiwiZ2V0IiwiY3JlYXRlIiwidXBkYXRlIiwiZGVsZXRlIiwiVGlja2V0IiwiX3JlZiIsInNob3dGb3JtQ2FsbGJhY2siLCJzdGF0dXMiLCJjcmVhdGVkIiwiYmluZCIsInVwZGF0ZUJ0biIsImRlbGV0ZUJ0biIsImlzRG9uZUVsIiwidGlja2V0Qm9keSIsInNob3dEZXNjcmlwdGlvbiIsImRvbmUiLCJkZWxldGVNZXNzYWdlIiwic2V0QXR0cmlidXRlIiwidG9nZ2xlIiwiZm9ybWF0dGVkRGF0ZSIsIkRhdGUiLCJ0b0xvY2FsZVN0cmluZyIsIlRpY2tldFZpZXciLCJ0aWNrZXRzIiwiaXRlbSIsInRhYmxlUm93IiwidGlja2V0IiwicHVzaCIsIkhlbHBEZXNrIiwiSFRNTEVsZW1lbnQiLCJFcnJvciIsInRpY2tldFNlcnZpY2UiLCJ0aWNrZXRWaWV3IiwidGFibGVCb2R5IiwidXBkYXRlVGlja2V0Iiwic2hvd0Zvcm0iLCJjcmVhdGVUaWNrZXQiLCJpbml0IiwicmVuZGVySW5pdGlhbE1hcmt1cCIsImluaXRpYWxpemVET01FbGVtZW50cyIsImluaXRpYWxpemVUaWNrZXRWaWV3IiwiaW5pdGlhbGl6ZVRpY2tldEZvcm0iLCJyZWxvYWREYXRhIiwiYWRkRWwiLCJkZWxldGVUaWNrZXQiLCJjbG9zZU1lc3NhZ2UiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJkYXRhc2V0IiwibmV3RGF0YSIsImdldFRpY2tldCIsInJlc3VsdCIsInJvb3QiLCJnZXRFbGVtZW50QnlJZCJdLCJzb3VyY2VSb290IjoiIn0=